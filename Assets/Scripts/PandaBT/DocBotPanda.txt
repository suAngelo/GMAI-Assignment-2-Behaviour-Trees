tree("Root")
	sequence
		tree("T_IdleState") // Entry/Default State

// Check if each position tag is readable by pandabt
// Meant for testing purposes
tree("T_MoveCheck")
	sequence
		MoveTo("IdlePoint")
		MoveTo("DiagnosisPoint")
		MoveTo("SoftRepairPoint")
		MoveTo("HardRepairPoint")
		MoveTo("RestockingPoint")
		MoveTo("UpdatePoint")

tree("T_IdleState")
	sequence
		MoveTo("IdlePoint") // Note that IdlePoint is also the "Serving Point"
		sequence
			CheckCustomer()
			tree("T_ServingState")
			
tree("T_ServingState")
	sequence
		Serving()
		tree("T_DiagnosisState")

tree("T_DiagnosisState")
	sequence
		MoveTo("DiagnosisPoint")
		sequence
			fallback
				sequence
					CheckIfFunctional()
					IndicateYellow("DiagnosisInterface")
				IndicateRed("DiagnosisInterface")
				// switch to discharge 
			fallback
				sequence
					CheckIfRepairable()
					IndicateGreen("DiagnosisInterface")
					tree("T_SoftRepairState")
				IndicateRed("DiagnosisInterface")
				// switch to failure

tree("T_SoftRepairState")
	sequence
		MoveTo("SoftRepairPoint")
		fallback
			while
				LocalErrorsNotMaxed()
				sequence
					AttemptRepair()
					IndicateGreen("SoftRepairInterface")
					tree("T_HardRepairState")
			sequence
				IndicateRed("SoftRepairInterface")
				IncrementUniversalErrors()
				// switch to failure

tree("T_HardRepairState")
	sequence
		MoveTo("HardRepairPoint")
		fallback
			while
				LocalErrorsNotMaxed()
				sequence
					AttemptRepair()
					IndicateGreen("HardRepairInterface")
					tree("T_DischargeState")
			sequence
				IndicateRed("HardRepairInterface")
				IncrementUniversalErrors()
				// switch to failure	

tree("T_DischargeState")
	sequence
		sequence
			MoveTo("IdlePoint")
		sequence
			CheckCustomer()
			DischargeCustomer()
		sequence
			UniversalErrorsNotMaxed()
			tree("T_CleanupState")
		// call repair state

tree("T_CleanupState")
	sequence
		MoveTo("HardRepairPoint")
		// function to remove debris instances
		tree("T_IdleState")
	
	


			
				
				
	

